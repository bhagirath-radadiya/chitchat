{% extends "user/base.html" %}
{% load static %}

{% block title %}My Profile{% endblock %}

{% block content %}
    <!-- Sidebar Start -->
    {% for j in myProfileList %}
        <aside class="sidebar">
            <!-- Tab Content Start -->
            <div class="tab-content">

                <!-- Profile Tab Content Start -->
                <div class="tab-pane active" id="profile-content">
                    <div class="d-flex flex-column h-100">
                        <div class="hide-scrollbar">
                            <!-- Sidebar Header Start -->
                            <div class="sidebar-header sticky-top p-2 mb-3">
                                <h5 class="font-weight-semibold">Profile</h5>
                                <p class="text-muted mb-0">Personal Information & Settings</p>
                            </div>
                            <!-- Sidebar Header end -->

                            <!-- Sidebar Content Start -->
                            <div class="container-xl">
                                <div class="row">
                                    <div class="col">

                                        <!-- Card Start -->
                                        <div class="card card-body card-bg-5">

                                            <!-- Card Details Start -->
                                            <div class="d-flex flex-column align-items-center">
                                                <div class="avatar avatar-lg mb-3">
                                                    <img class="avatar-img"
                                                         src="{{ j.userProfilePhoto.url }}"
                                                         alt="">
                                                </div>

                                                <div class="d-flex flex-column align-items-center">
                                                    <h5>{{ j.userName }}</h5>
                                                </div>

                                                <div class="d-flex">
                                                    <a href="/">
                                                        <button class="btn btn-outline-default mx-1" type="button">
                                                            <!-- Default :: Inline SVG -->
                                                            <svg class="hw-18 d-none d-sm-inline-block" fill="none"
                                                                 viewBox="0 0 24 24" stroke="currentColor">
                                                                <path stroke-linecap="round" stroke-linejoin="round"
                                                                      stroke-width="2"
                                                                      d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"/>
                                                            </svg>

                                                            <!-- Alternate :: External File link -->
                                                            <!-- <img class="injectable hw-18" src="./../assets/media/heroicons/outline/logout.svg" alt=""> -->
                                                            <span>Logout</span>
                                                        </button>
                                                    </a>

                                                </div>
                                            </div>
                                            <!-- Card Details End -->

                                            <!-- Card Options Start -->
                                            <div class="card-options">
                                                <div class="dropdown">
                                                    <button class="btn btn-secondary btn-icon btn-minimal btn-sm text-muted text-muted" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable hw-20" src="./../assets/media/heroicons/outline/dots-vertical.svg" alt=""> -->
                                                    </button>
                                                    <div class="dropdown-menu" style="">
                                                        <form action="insertProfilePhoto" method="post"  enctype="multipart/form-data">
                                                        {% csrf_token %}
                                                            <div class="dropdown-item" >Change Profile Picture</div>
                                                        <br>
                                                        <input type="file" name="userProfilePhoto" class="dropdown-item">
                                                        <input type="submit" class="dropdown-item">
                                                        </form>

                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Card Options End -->

                                        </div>
                                        <!-- Card End -->

                                        <!-- Card Start -->
                                        <div class="card mt-3">

                                            <!-- List Group Start -->
                                            <ul class="list-group list-group-flush">


                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Birthdate</p>
                                                            <p class="mb-0">{{ j.userBirthdate }}</p>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" fill="none"
                                                             viewBox="0 0 24 24"
                                                             stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  stroke-width="2"
                                                                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/heroicons/outline/calendar.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Phone</p>
                                                            <p class="mb-0">{{ j.userMobileNo }}</p>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" fill="none"
                                                             viewBox="0 0 24 24"
                                                             stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  stroke-width="2"
                                                                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/heroicons/outline/phone.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Email</p>
                                                            <p class="mb-0">{{ j.user_LoginId.loginUserName }}</p>
                                                        </div>

                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" fill="none"
                                                             viewBox="0 0 24 24"
                                                             stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  stroke-width="2"
                                                                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/heroicons/outline/mail.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->


                                                <!-- List Group Item Start -->
                                                <li class="list-group-item pt-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Address</p>
                                                            <p class="mb-0">{{ j.userAddress }}</p>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" fill="none"
                                                             viewBox="0 0 24 24"
                                                             stroke="currentColor">
                                                            <path stroke-linecap="round" stroke-linejoin="round"
                                                                  stroke-width="2"
                                                                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/heroicons/outline/home.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                            </ul>
                                            <!-- List Group End -->

                                        </div>
                                        <!-- Card End -->

                                        <!-- Card Start -->
                                        <div class="card my-3">

                                            <!-- List Group Start -->
                                            <ul class="list-group list-group-flush">

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Facebook</p>
                                                            <a class="font-size-sm font-weight-medium"
                                                                    {% if j.userFacebook != None %}
                                                               href="{{ j.userFacebook }}"
                                                                    {% endif %}>
                                                                {{ j.userFacebook }}
                                                            </a>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" viewBox="0 0 24 24"
                                                             fill="none"
                                                             stroke="currentColor" stroke-width="2"
                                                             stroke-linecap="round"
                                                             stroke-linejoin="round">
                                                            <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/icons/facebook.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Twitter</p>
                                                            <a class="font-size-sm font-weight-medium"
                                                                    {% if j.userTwitter != None %}
                                                               href="{{ j.userTwitter }}"
                                                                    {% endif %}>
                                                                {{ j.userTwitter }}
                                                            </a>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" viewBox="0 0 24 24"
                                                             fill="none"
                                                             stroke="currentColor" stroke-width="2"
                                                             stroke-linecap="round"
                                                             stroke-linejoin="round">
                                                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/icons/twitter.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Instagram</p>
                                                            <a class="font-size-sm font-weight-medium"
                                                                    {% if j.userInstagram != None %}
                                                               href="{{ j.userInstagram }}"
                                                                    {% endif %}>
                                                                {{ j.userInstagram }}
                                                            </a>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" viewBox="0 0 24 24"
                                                             fill="none"
                                                             stroke="currentColor" stroke-width="2"
                                                             stroke-linecap="round"
                                                             stroke-linejoin="round">
                                                            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
                                                            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                                                            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/icons/instagram.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                                <!-- List Group Item Start -->
                                                <li class="list-group-item py-2">
                                                    <div class="media align-items-center">
                                                        <div class="media-body">
                                                            <p class="small text-muted mb-0">Linkedin</p>
                                                            <a class="font-size-sm font-weight-medium"
                                                                    {% if j.userLinkedin != None %}
                                                               href="{{ j.userLinkedin }}"
                                                                    {% endif %}>
                                                                {{ j.userLinkedin }}
                                                            </a>
                                                        </div>
                                                        <!-- Default :: Inline SVG -->
                                                        <svg class="text-muted hw-20 ml-1" viewBox="0 0 24 24"
                                                             fill="none"
                                                             stroke="currentColor" stroke-width="2"
                                                             stroke-linecap="round"
                                                             stroke-linejoin="round">
                                                            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
                                                            <rect x="2" y="9" width="4" height="12"/>
                                                            <circle cx="4" cy="4" r="2"/>
                                                        </svg>

                                                        <!-- Alternate :: External File link -->
                                                        <!-- <img class="injectable text-muted hw-20 ml-1" src="./../assets/media/icons/linkedin.svg" alt=""> -->
                                                    </div>
                                                </li>
                                                <!-- List Group Item End -->

                                            </ul>
                                            <!-- List Group End -->

                                        </div>
                                        <!-- Card End -->

                                    </div>
                                </div>
                            </div>
                            <!-- Sidebar Content End -->
                        </div>
                    </div>
                </div>
                <!-- Profile Tab Content End -->
            </div>
            <!-- Tab Content End -->
        </aside>
    {% endfor %}
    <!-- Sidebar End -->

    <!-- Main Start -->
    <main class="main">


        <!-- Profile Settings Start -->
        <div style="overflow: auto;width: 100%">
            <div class="page-main-heading sticky-top py-2 px-3 mb-3">

                <!-- Chat Back Button (Visible only in Small Devices) -->
                <button class="btn btn-secondary btn-icon btn-minimal btn-sm text-muted d-xl-none" type="button"
                        data-close="">
                    <svg class="hw-20" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
                    </svg>
                    <!-- <img class="injectable hw-20" src="./../assets/media/heroicons/outline/arrow-left.svg" alt=""> -->
                </button>

                <div class="pl-2 pl-xl-0">
                    <h5 class="font-weight-semibold">Settings</h5>
                    <p class="text-muted mb-0">Update Personal Information &amp; Settings</p>
                </div>
                {% if noMatch %}
                    <h3 style="color: red;">{{ noMatch }}</h3>
                {% endif %}
                {% if successfully %}
                    <h3 style="color: red;">{{ successfully }}</h3>
                {% endif %}
                {% if oldPasswordError %}
                    <h3 style="color: red;">{{ oldPasswordError }}</h3>
                {% endif %}
            </div>

            <div class="container-xl px-2 px-sm-3">
                <div class="row">
                    <div class="col">


                        <form action="insertPersonalInfo" method="post">
                            {% csrf_token %}
                            {% for i in myProfileList %}
                                <input name="user_LoginId" type="text" value="{{ i.user_LoginId.id }}" hidden>
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h6 class="mb-1">Account</h6>
                                        <p class="mb-0 text-muted small">Update personal &amp; contact information</p>
                                    </div>

                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="firstName">Name</label>
                                                    <input name="userName" type="text"
                                                           class="form-control form-control-md"
                                                           id="firstName"
                                                           placeholder="Type your first name"
                                                           {% if i.userName != None %}value="{{ i.userName }}"{% endif %}
                                                           required>
                                                </div>
                                            </div>

                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="">Mobile number</label>
                                                    <input name="userMobileNo" type="text"
                                                           class="form-control form-control-md"
                                                           id="mobileNumber"
                                                           placeholder="Type your mobile number"
                                                           {% if i.userMobileNo != None %}value="{{ i.userMobileNo }}"{% endif %}
                                                    >
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="birthDate">Birth date</label>
                                                    <input name="userBirthdate" type="date"
                                                           class="form-control form-control-md"
                                                           id="birthDate"
                                                           placeholder="dd/mm/yyyy"
                                                           {% if i.userBirthdate != None %}value="{{ i.userBirthdate }}"{% endif %}
                                                    >
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <div class="form-group">
                                                    <label for="Address">Address</label>
                                                    <input name="userAddress" type="text"
                                                           class="form-control form-control-md" id="Address"
                                                           placeholder="Type your address"
                                                           {% if i.userAddress != None %}value="{{ i.userAddress }}"{% endif %}
                                                    >
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-footer d-flex justify-content-end">

                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </div>
                                </div>
                                </form>
                            {% endfor %}

                        <form action="insertSocialMediaLink" method="post">
                            {% csrf_token %}
                            {% for i in myProfileList %}
                                <input name="user_LoginId" type="text" value="{{ i.user_LoginId.id }}" hidden>
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h6 class="mb-1">Social network profiles</h6>
                                        <p class="mb-0 text-muted small">Update personal &amp; contact information</p>
                                    </div>

                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="facebookId">Facebook</label>
                                                    <input name="userFacebook" type="text"
                                                           class="form-control form-control-md"
                                                           id="facebookId"
                                                           placeholder="Facebook Profile"
                                                           {% if i.userFacebook != None %}value="{{ i.userFacebook }}"{% endif %}>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="twitterId">Twitter</label>
                                                    <input name="userTwitter" type="text"
                                                           class="form-control form-control-md"
                                                           id="twitterId"
                                                           placeholder="Twitter profile"
                                                           {% if i.userTwitter != None %}value="{{ i.userTwitter }}"{% endif %}>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="instagramId">Instagram</label>
                                                    <input name="userInstagram" type="text"
                                                           class="form-control form-control-md"
                                                           id="instagramId"
                                                           placeholder="Instagram profile"
                                                           {% if i.userInstagram != None %}value="{{ i.userInstagram }}"{% endif %}>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-group">
                                                    <label for="linkedinId">Linkedin</label>
                                                    <input name="userLinkedin" type="text"
                                                           class="form-control form-control-md"
                                                           id="linkedinId"
                                                           placeholder="Linkedin profile"
                                                           {% if i.userLinkedin != None %}value="{{ i.userLinkedin }}"{% endif %}>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card-footer d-flex justify-content-end">
                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </div>
                                </div>
                            {% endfor %}
                        </form>


                        <form action="/updatePassword" method="post">
                            {% csrf_token %}
                            <div class="card mb-3">
                                <div class="card-header">
                                    <h6 class="mb-1">Password</h6>
                                    <p class="mb-0 text-muted small">Update personal &amp; contact information</p>
                                </div>


                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6 col-12">
                                            <div class="form-group">
                                                <label for="current-password">Current Password</label>
                                                <input name="currentPassword" type="password"
                                                       class="form-control form-control-md"
                                                       id="current-password" placeholder="Current password"
                                                >
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-12">
                                            <div class="form-group">
                                                <label for="new-password">New Password</label>
                                                <input name="newPassword" type="password"
                                                       class="form-control form-control-md"
                                                       id="new-password" placeholder="New password"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-md-6 col-12">
                                            <div class="form-group">
                                                <label for="repeat-password">Conform Password</label>
                                                <input name="conformPassword" type="password"
                                                       class="form-control form-control-md"
                                                       id="repeat-password" placeholder="Repeat password"
                                                       autocomplete="off">
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div class="card-footer d-flex justify-content-end">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </form>


                    </div>
                </div>
            </div>
        </div>
        <!-- Profile Settings End -->

    </main>
    <!-- Main End -->
{% endblock %}



